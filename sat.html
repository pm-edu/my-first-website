<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAT Writing and Language Test</title>
    <style>
        /* 기본 레이아웃 스타일 */
        body { font-family: 'Roboto', sans-serif; margin: 0; background-color: #f8f9fa; }
        .test-container { display: flex; flex-direction: column; height: 100vh; }

        /* A. 헤더 스타일 (TOEFL과 유사) */
        .test-header { background-color: #5a5f64; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .timer { background-color: #dc3545; padding: 5px 10px; border-radius: 5px; font-weight: bold; }

        /* B & C. 메인 콘텐츠 스타일 */
        .test-main { display: flex; flex: 1; overflow: hidden; }
        .passage-area, .question-area { flex: 1; padding: 25px; overflow-y: auto; }
        .passage-area { background-color: #fff; border-right: 1px solid #dee2e6; line-height: 1.8; }
        .question-area { background-color: #f4f6f9; }
        
        /* B. 지문 스타일 */
        .passage-paragraph { margin-bottom: 20px; }
        .passage-paragraph strong { color: #007bff; margin-right: 5px; } /* 문단 번호 강조 */
        .underline-target { 
            /* 밑줄 친 부분 CSS: 문제와 연결될 부분 */
            display: inline-block; 
            padding: 2px 4px; 
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .highlighted { 
            /* 문제 클릭 시 하이라이트 */
            background-color: #fff3cd; 
            border: 1px dashed #ffc107;
            border-radius: 3px;
        }

        /* C. 문제 스타일 */
        .question-item { background-color: #fff; padding: 15px; margin-bottom: 20px; border-radius: 8px; border-left: 5px solid #007bff; }
        .options label { display: block; padding: 8px; margin-bottom: 5px; border-radius: 4px; cursor: pointer; border: 1px solid #ced4da; }
        .options input:checked + label { background-color: #e2f0ff; border-color: #007bff; font-weight: 500; }
        
        /* D. 푸터 스타일 (TOEFL과 유사) */
        .test-footer { background-color: #fff; padding: 15px 20px; display: flex; justify-content: space-between; border-top: 1px solid #dee2e6; }
        .footer-buttons button { padding: 10px 20px; margin-left: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: 500; }
        .btn-primary { background-color: #007bff; color: white; }
    </style>
</head>
<body>

<div class="test-container">
    
    <header class="test-header">
        <div>SAT Writing and Language Section (Q1 - Q44)</div>
        <div class="timer">남은 시간: 00:35:00</div>
    </header>

    <main class="test-main">
        
        <section class="passage-area">
            <h2>Passage: The Future of Urban Farming</h2>
            
            <div class="passage-paragraph" id="p1">
                <strong>[1]</strong> Urban farming has been posited as a solution to food deserts. However, many cities face land constraints.  For example, New York City has limited space.
            </div>
            
            <div class="passage-paragraph" id="p2">
                <strong>[2]</strong> Traditional farming methods require expansive land and are often inefficient in metropolitan areas. Modern vertical farms, in contrast, utilize small footprints. A major question is whether these vertical farms <span class="underline-target" data-question-id="q1" onclick="highlightPassage('q1')">are economically viable, and</span> if they can sustainably feed a large population. This concern about profitability <span class="underline-target" data-question-id="q2" onclick="highlightPassage('q2')">have led</span> to skepticism among investors.
            </div>
            
            </section>

        <section class="question-area">
            
            <div class="question-item" id="q1">
                <div class="question-number">Question 1 of 44 (Paragraph 2)</div>
                <p>Which choice most effectively combines the sentences at the underlined portion?</p>
                <div class="options">
                    <input type="radio" id="q1_a" name="q1_answer" value="a" onchange="saveAnswer('q1', 'a')" onclick="highlightPassage('q1')">
                    <label for="q1_a">A. NO CHANGE</label>

                    <input type="radio" id="q1_b" name="q1_answer" value="b" onchange="saveAnswer('q1', 'b')" onclick="highlightPassage('q1')">
                    <label for="q1_b">B. are economically viable and</label>
                    
                    <input type="radio" id="q1_c" name="q1_answer" value="c" onchange="saveAnswer('q1', 'c')" onclick="highlightPassage('q1')">
                    <label for="q1_c">C. being economically viable is the question and</label>
                    
                    <input type="radio" id="q1_d" name="q1_answer" value="d" onchange="saveAnswer('q1', 'd')" onclick="highlightPassage('q1')">
                    <label for="q1_d">D. are economically viable, and, furthermore,</label>
                </div>
            </div>

             <div class="question-item" id="q2">
                <div class="question-number">Question 2 of 44 (Paragraph 2)</div>
                <p>Which choice maintains subject-verb agreement?</p>
                <div class="options">
                    <input type="radio" id="q2_a" name="q2_answer" value="a" onchange="saveAnswer('q2', 'a')" onclick="highlightPassage('q2')">
                    <label for="q2_a">A. NO CHANGE</label>
                    
                    <input type="radio" id="q2_b" name="q2_answer" value="b" onchange="saveAnswer('q2', 'b')" onclick="highlightPassage('q2')">
                    <label for="q2_b">B. lead</label>
                    
                    <input type="radio" id="q2_c" name="q2_answer" value="c" onchange="saveAnswer('q2', 'c')" onclick="highlightPassage('q2')">
                    <label for="q2_c">C. is leading</label>
                    
                    <input type="radio" id="q2_d" name="q2_answer" value="d" onchange="saveAnswer('q2', 'd')" onclick="highlightPassage('q2')">
                    <label for="q2_d">D. had led</label>
                </div>
            </div>
            </section>

    </main>
    
    <footer class="test-footer">
        <div class="navigation-map">
            <button style="padding: 10px 15px; border-radius: 5px; border: 1px solid #ffc107;">Mark for Review ⭐</button>
            <button style="padding: 10px 15px; border-radius: 5px; margin-left: 10px;">Review List (2 marked)</button>
        </div>
        <div class="footer-buttons">
            <button class="btn-primary" onclick="handleTestSubmission()">섹션 완료 및 제출</button>
        </div>
    </footer>

</div>

<script>
    // 1. 지문-문제 연결 (Highlighting) 액션
    function highlightPassage(questionId) {
        // 기존 하이라이트 제거
        document.querySelectorAll('.highlighted').forEach(el => el.classList.remove('highlighted'));

        // 새 하이라이트 적용
        const targetElement = document.querySelector(`.underline-target[data-question-id="${questionId}"]`);
        if (targetElement) {
            targetElement.classList.add('highlighted');
            // 선택된 문제로 스크롤 이동
            document.getElementById(questionId).scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }

    // 2. 답안 저장 액션 (사용자 반응)
    function saveAnswer(questionId, answerValue) {
        // TOEFL과 동일하게, 클릭 즉시 서버에 자동 저장 (Auto-Save)
        console.log(`[SAT] Saving answer for ${questionId}: ${answerValue}`);
    }

    // 3. 타이머 및 제출 액션은 TOEFL과 동일하게 작동 (시간 초과 시 자동 제출)
    function handleTestSubmission() {
        // SAT Writing Section (35분) 최종 제출 처리
        const isConfirmed = confirm("섹션을 완료하고 제출하시겠습니까?");
        if (isConfirmed) {
            console.log("SAT Writing Test submitted for final grading.");
            // 다음 섹션 페이지 (예: SAT Math)로 이동 또는 결과 대시보드로 이동
        }
    }

    // 페이지 로드 시 첫 문제로 자동 하이라이트 및 타이머 시작
    window.onload = () => {
        highlightPassage('q1');
        // startTimer(35); // 실제 구현 시 타이머 시작
    };
</script>

</body>
</html>